language: objective-c
osx_image: xcode7.2

branches:
  except:
    - gh-pages

install:
  - gem install xcpretty

script:
- set -o pipefail
- xcodebuild -version
- xcodebuild -showsdks
- xcodebuild -project HTMLKit.xcodeproj -scheme HTMLKit-OSX -sdk macosx -configuration Release ONLY_ACTIVE_ARCH=NO build | xcpretty -c
- xcodebuild -project HTMLKit.xcodeproj -scheme HTMLKitTests-OSX -sdk macosx ONLY_ACTIVE_ARCH=NO test | xcpretty -c
- xcodebuild -project HTMLKit.xcodeproj -scheme HTMLKit-iOS -sdk iphonesimulator -configuration Release ONLY_ACTIVE_ARCH=NO build | xcpretty -c
- xcodebuild -project HTMLKit.xcodeproj -scheme HTMLKitTests-iOS -sdk iphonesimulator ONLY_ACTIVE_ARCH=NO test | xcpretty -c

